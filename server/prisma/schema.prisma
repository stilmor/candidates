datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Candidate {
  id           String           @id @default(uuid())
  firstName    String           @map("first_name")
  lastName     String           @map("last_name")
  email        String           @unique @map("email")
  phone        String?          @map("phone")
  observations String?          @map("observations")
  status       CandidateStatus  @default(PENDING) @map("status")

  interviews   Interview[]

  @@map("candidatos")
}

enum CandidateStatus {
  PENDING  
  INTERVIEW
  REJECTED 
  HIRED
}

model Interview {
  id          String   @id @default(uuid())
  candidateId String
  position    String
  scheduledAt DateTime

  candidate   Candidate @relation(fields: [candidateId], references: [id], onDelete: Cascade)

    @@index([candidateId, scheduledAt])

}